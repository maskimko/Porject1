<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html" 
xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/userUITemplate.xhtml" >
        <ui:define name="title">
            <h:outputText value="Google Map testing"/>
        </ui:define>
        <ui:define name="north">
            <p:button outcome="/faces/logout.xhtml" icon="ui-icon-power" />
        </ui:define>
        <ui:define name="left">
            <h:panelGroup id="userSelector" rendered="#{users.admin}">
        	<p:selectOneListbox value="#{users.selected}">
        		<f:selectItems value="#{users.allUsers}" var="current" itemLabel="#{current.firstName} #{current.surName}" itemValue="#{current}"/>
        	</p:selectOneListbox>
        	<p:commandButton value="Submit" update="testText"/>
            </h:panelGroup>
            <h:panelGroup id="userDetails">
                <p:panelGrid columns="2">
                    <p:outputLabel value="#{bundle.ViewUserLabel_login}"/>
                    <h:outputText value="#{users.selected.login}"/>
                    <p:outputLabel value="#{bundle.ViewUserLabel_firstName}"/>
                    <h:outputText value="#{users.selected.firstName}"/>
                    <p:outputLabel value="#{bundle.ViewUserLabel_surName}"/>
                    <h:outputText value="#{users.selected.surName}"/>
                    
                </p:panelGrid>
            </h:panelGroup>
            
        </ui:define>
        <ui:define name="content">
            <script src="https://maps.googleapis.com/maps/api/js?sensor=false"/>
            <p:gmap  center="50.423273, 30.478338" type="hybrid" style="width: 600px; height: 450px" zoom="15" model="#{markersView.simpleModel}"/>
            <h:outputLabel value="Selected User login:" for="testText" />
            <h:outputText id="testText" value="#{users.selected.login}" />
        </ui:define>
    </ui:composition>
</html>